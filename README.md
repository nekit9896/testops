# Testops

## –ú–µ—Ç–æ–¥—ã –∏ –∏—Ö –æ–ø–∏—Å–∞–Ω–∏–µ

/upload - –º–µ—Ç–æ–¥ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≥–æ–Ω–∞ –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞:
- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Ñ–∞–π–ª–æ–≤ (allure-results);
- —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ —É–Ω–∏–∫–∞–ª—å–Ω—É—é –ø–∞–ø–∫—É (allure-results/run1_{date_of_run});
- —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–ø–∏—Å—å –æ –Ω–æ–≤–æ–º –ø—Ä–æ–≥–æ–Ω–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö (SQLAlchemy).
- –ø–æ–ª–µ run_name —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º.
- –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–µ –ø—É—Å—Ç—ã–µ.

## –ú–∏–≥—Ä–∞—Ü–∏–∏
```bash
flask db init
flask db migrate -m "Initial Migration"
flask db upgrade

flask db stamp <stamp_id>
```

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏:
–≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å–∫—Ä–∏–ø—Ç–æ–º –º–æ–∂–Ω–æ —á–µ–∫–Ω—É—Ç—å —Ç–µ–∫—É—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã:
```
python - <<'PY'
from app import create_app, db
app = create_app()
with app.app_context():
    print(sorted(db.metadata.tables.keys()))
PY
```

## –ë—ã—Å—Ç—Ä–æ–¥–æ–∫–µ—Ä
```bash
docker build -t nekit9896/testops-flask-app:v1.0.18 -f Dockerfile .
docker push nekit9896/testops-flask-app:v1.0.18
docker exec -it testops-flask-app bash

docker run --rm -v /var/run/docker.sock:/var/run/docker.sock aquasec/trivy image nekit9896/system-dependencies:v0.1
```


## –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
```bash
curl -X POST 'http://localhost:5000/upload' -F "files=@C:\Users\nekit\PycharmProjects\test_pets\allure-results\0477e9be-9f9a-4301-9792-784ae94c08bb-result.json"      -F "files=@C:\Users\nekit\PycharmProjects\test_pets\allure-results\3383fa62-dce1-4ac2-abc6-ead40f3f4b7a-attachment.txt" -F "files=@C:\Users\nekit\PycharmProjects\test_pets\allure-results\11327270-8aab-4d37-81b4-6488855be7f4-attachment.txt" -F "files=@C:\Users\nekit\PycharmProjects\test_pets\allure-results\a66c33e6-bb8c-4fa2-b268-0d47342c76a3-result.json" -F "files=@C:\Users\nekit\PycharmProjects\test_pets\allure-results\b33d1db4-fc93-460f-925e-e4e1535b0c9e-attachment.txt" -F "files=@C:\Users\nekit\PycharmProjects\test_pets\allure-results\ba852533-61b6-45f4-ae51-483aaedb8871-attachment.txt" -F "files=@C:\Users\nekit\PycharmProjects\test_pets\allure-results\d3c09ae1-4f16-400b-a70e-abfb701ea0de-container.json" -v
```
```bash
export LANG=en_US.UTF-8
cat > payload.json <<'JSON'
{
  "name": "–°–æ–∑–¥–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ curl —Ç–µ—Å—Ç-–∫–µ–π—Å",
  "preconditions": "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω",
  "description": "–ü–æ—à–∞–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏",
  "expected_result": "–ó–∞–ø–∏—Å—å —Å–æ–∑–¥–∞—ë—Ç—Å—è, –¥–∞–Ω–Ω—ã–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ",
  "steps": [
    {"position": 1, "action": "–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞", "expected": "–ü–æ–ª–µ –≤–≤–æ–¥–∞ –æ—Ç–∫—Ä—ã–ª–æ—Å—å"},
    {"position": 2, "action": "–í–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å", "expected": "–¢–µ–∫—Å—Ç –≤–≤–µ–¥–µ–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω"},
    {"action": "–ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å", "expected": "–ü–æ—è–≤–∏–ª–æ—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ", "attachments": "screenshot-1.png"}
  ],
  "tags": ["smoke", {"name": "regression"}],
  "suite_links": [{"suite_name": "API Suite", "position": 2}]
}
JSON
curl -v -i -X POST 'http://localhost:5000/test_cases' \
  -H 'Content-Type: application/json; charset=utf-8' \
  --data-binary @payload.json
```
```bash
curl -i -X GET "http://localhost:5000/test_cases/<id>"
```
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç –∫–µ–π—Å–∞ PUT
```bash
curl -i -X PUT "http://localhost:5000/test_cases/<id>" \   -H "Content-Type: application/json"   --data '{
    "name": "–û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Ç–µ—Å—Ç-–∫–µ–π—Å —á–µ—Ä–µ–∑ curl",
    "preconditions": "–ù–æ–≤–æ–µ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω",
    "description": "–û–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
    "expected_result": "–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–±–Ω–æ–≤–ª—ë–Ω",
    "steps": [
      {"position": 1, "action": "–ù–æ–≤–æ–µ", "expected": "–ù–æ–≤–æ–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å"},
      {"position": 2, "action": "–ù–æ–≤–æ–µ —Ç–µ–∫—Å—Ç", "expected": "–¢–µ–∫—Å—Ç –≤–≤–µ–¥—ë–Ω"}
    ],
    "tags": [
      "smoke",
      {"name":"regression"}
    ],
    "suite_links": [
      {"suite_name": "API Suite", "position": 1}
    ]
  }'
```
–£–¥–∞–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç –∫–µ–π—Å–∞
```bash
curl -i -X DELETE "http://localhost:5000/test_cases/<id>"
```

–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–∏–π:
```bash
curl -i -X POST "http://localhost:5000/test_cases/<id>/attachments" \
  -F "file=@path/to/file" \
  -H "Accept: application/json"
```
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–ª–æ–∂–µ–Ω–∏–π:
```bash
curl -i "http://localhost:5000/test_cases/<id>/attachments"
```
–°–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª –∏–∑ MinIO 
```bash
curl -L -O -J "http://localhost:5000/test_cases/<id>/attachments/<id_attachment>?download=1"
```
–ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –≤–ª–æ–∂–µ–Ω–∏—é
```bash
curl -s "http://localhost:5000/test_cases/<id>/attachments/<id_attachment>"
```
–£–¥–∞–ª–∏—Ç—å attachment:
```bash
curl -i -X DELETE "http://localhost:5000/test_cases/<id>/attachments/<id_attachment>"
```


# –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

## –ö—Ä–∞—Ç–∫–æ –ø—Ä–æ —Ç–∞–±–ª–∏—Ü—ã testops

- **TestCase** ‚Äî —Ç–µ—Å—Ç-–∫–µ–π—Å (metadata, steps, tags, –ø—Ä–∏–≤—è–∑–∫–∏ –∫ —Å—å—é—Ç–∞–º).  
- **TestCaseStep** ‚Äî —à–∞–≥–∏ —Ç–µ—Å—Ç-–∫–µ–π—Å–∞ (–ø–æ–∑–∏—Ü–∏—è, –¥–µ–π—Å—Ç–≤–∏–µ, –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç).  
- **TestSuite** ‚Äî –≥—Ä—É–ø–ø–∞ / –ø–∞–ø–∫–∞ —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤ (–∏–µ—Ä–∞—Ä—Ö–∏—è —á–µ—Ä–µ–∑ `parent_id`).  
- **TestCaseSuite** ‚Äî –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–π –æ–±—ä–µ–∫—Ç –º–µ–∂–¥—É `TestCase` –∏ `TestSuite` (—Å–æ–¥–µ—Ä–∂–∏—Ç `position` ‚Äî –ø–æ—Ä—è–¥–æ–∫ –∫–µ–π—Å–∞ –≤ —Å—å—é—Ç–µ).  
- **Tag + test_case_tags** ‚Äî –ø—Ä–æ—Å—Ç–∞—è M:N-—Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ç–µ–≥–æ–≤.  
- **TestResult** ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≥–æ–Ω–æ–≤.

**–ë–∞–∑–∞:** Postgres. **ORM:** Flask-SQLAlchemy / SQLAlchemy. **–ú–∏–≥—Ä–∞—Ü–∏–∏:** Alembic (Flask-Migrate). **–§–∞–π–ª—ã:** MinIO (S3-type)

---

## ER / –°—Ç—Ä—É–∫—Ç—É—Ä–∞
- **test_cases** (1 ‚Äî N) test_case_steps
- **test_cases** (M ‚Äî N) test_suites —á–µ—Ä–µ–∑ test_case_suites (association-class)
- **test_cases** (M ‚Äî N) tags —á–µ—Ä–µ–∑ test_case_tags (plain table)
- **test_suites** —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ: parent_id -> test_suites.id
- **testrun_results** ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å, —Ö—Ä–∞–Ω–∏—Ç –ø—Ä–æ–≥–æ–Ω—ã


## –û–ø–∏—Å–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –∏ –ø–æ–ª–µ–π

### TestCase
- `id` ‚Äî PK  
- `name` ‚Äî —Å—Ç—Ä–æ–∫–∞ (255)  
- `preconditions`, `description`, `expected_result` ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è  
- `created_at`, `updated_at`, `deleted_at`, `is_deleted` ‚Äî –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –∏ soft-delete  
- `steps` ‚Äî relationship –∫ `TestCaseStep`, —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã –ø–æ `position`  
- `suites` ‚Äî `association_proxy` –∫ `TestSuite` —á–µ—Ä–µ–∑ `TestCaseSuite`  
- `tags` ‚Äî M:N —á–µ—Ä–µ–∑ `test_case_tags`  
- `UniqueConstraint('name', 'is_deleted')` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Å—Ä–µ–¥–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π

---

### TestCaseStep
- `id` ‚Äî PK  
- `test_case_id` ‚Äî FK -> `test_cases.id` (`ON DELETE CASCADE`)  
- `position` ‚Äî integer (–ø–æ—Ä—è–¥–æ–∫ —à–∞–≥–∞)  
- `action`, `expected`, `attachments` ‚Äî —Ç–µ–∫—Å—Ç  
- `UniqueConstraint('test_case_id', 'position')` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –≤ –∫–µ–π—Å–µ

---

### TestSuite
- `id` ‚Äî PK  
- `name` ‚Äî —Å—Ç—Ä–æ–∫–∞ (255)  
- `description` ‚Äî —Ç–µ–∫—Å—Ç  
- `parent_id` ‚Äî FK -> `test_suites.id` (—Å–º–µ–∂–Ω—ã–µ), `ondelete=SET NULL`  
- `children` ‚Äî relationship –¥–ª—è –ø–æ–¥-–ø–∞–ø–æ–∫  
- `case_links` ‚Äî relationship –∫ `TestCaseSuite`  
- `test_cases` ‚Äî `association_proxy("case_links", "test_case")`  
- `is_deleted` ‚Äî bool  
- `created_at`, `updated_at` ‚Äî timestamps

---

### TestCaseSuite (association object)
- `test_case_id`, `suite_id` ‚Äî —Å–æ—Å—Ç–∞–≤–Ω–æ–π PK  
- `position` ‚Äî –ø–æ—Ä—è–¥–æ–∫ –∫–µ–π—Å–∞ –≤ —Å—å—é—Ç–µ  
- `test_case`, `suite` ‚Äî relationship —Å `back_populates`/`backref`  

> –≠—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π ORM-–∫–ª–∞—Å—Å ‚Äî `position` –¥–æ—Å—Ç—É–ø–µ–Ω –∫–∞–∫ `link.position`.

---

### Tag + test_case_tags
- `Tag.name` —É–Ω–∏–∫–∞–ª–µ–Ω  
- `test_case_tags` ‚Äî plain table —Å PK (`test_case_id`, `tag_id`)

---

### TestResult
- `id`, `run_name`, `start_date`, `end_date`, `status`, `created_at`, `is_deleted`  
- –•—Ä–∞–Ω–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≥–æ–Ω–æ–≤ —Ç–µ—Å—Ç–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `reports/UI`).

---

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è

### –ê—Å—Å–æ—Ü–∏–∞—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å `TestCaseSuite`
**–ü—Ä–∏—á–∏–Ω–∞:** –Ω—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ –∫–µ–π—Å–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Å—å—é—Ç–∞ (`position`) –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –¥—Ä—É–≥–∏–µ –∞—Ç—Ä–∏–±—É—Ç—ã —Å–≤—è–∑–∏ –≤ –±—É–¥—É—â–µ–º.  
**–°–ª–µ–¥—Å—Ç–≤–∏–µ:** –∏—Å–ø–æ–ª—å–∑—É–µ–º `association-class` (–∫–ª–∞—Å—Å-–º–æ–¥–µ–ª—å). –≠—Ç–æ –¥–∞—ë—Ç —É–¥–æ–±–Ω—ã–π –¥–æ—Å—Ç—É–ø –≤ ORM: `link.position`, –ø—Ä–æ—Å—Ç–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –∏ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.

---

### Plain table –¥–ª—è —Ç–µ–≥–æ–≤ (`test_case_tags`)
**–ü—Ä–∏—á–∏–Ω–∞:** —Ç–µ–≥–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –≤ —Å–≤—è–∑–∏.  
**–°–ª–µ–¥—Å—Ç–≤–∏–µ:** –ø—Ä–æ—Å—Ç–∞—è –∏ –±—ã—Å—Ç—Ä–∞—è M:N —Ç–∞–±–ª–∏—Ü–∞ ‚Äî –º–µ–Ω—å—à–µ –∫–æ–¥–∞ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏.

---

### Soft-delete (`is_deleted`, `deleted_at`) + —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å `name, is_deleted`
**–ü—Ä–∏—á–∏–Ω–∞:** –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–ª–∏ –¥–∞–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É–¥–∞–ª—ë–Ω–Ω—ã–µ –∫–µ–π—Å—ã.  
**–°–ª–µ–¥—Å—Ç–≤–∏–µ:** —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å—Ä–µ–¥–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π; —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è `WHERE is_deleted = false` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–∞—Ö –≤ UI.

---

### FK `ON DELETE CASCADE` + ORM `passive_deletes=True` / `cascade="all, delete-orphan"`
**–ü—Ä–∏—á–∏–Ω–∞:** –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω–æ–º —É–¥–∞–ª–µ–Ω–∏–∏ (DB-level cascade) –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É ORM.  
**–°–ª–µ–¥—Å—Ç–≤–∏–µ:** –ø—Ä–∏ `DELETE` —Ä–æ–¥–∏—Ç–µ–ª—è –°–£–ë–î —É–¥–∞–ª–∏—Ç –¥–æ—á–µ—Ä–Ω–∏–µ –∑–∞–ø–∏—Å–∏; ORM –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ª–∏—à–Ω–∏–µ DELETE-–∑–∞–ø—Ä–æ—Å—ã.

---

### `parent_id` —Å `SET NULL` —É `TestSuite`
**–ü—Ä–∏—á–∏–Ω–∞:** –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Ä–æ–¥–∏—Ç–µ–ª—è –Ω–µ —Ö–æ—á–µ—Ç—Å—è –º–∞—Å—Å–æ–≤–æ —É–¥–∞–ª—è—Ç—å –≤—Å–µ –¥–æ—á–µ—Ä–Ω–∏–µ —Å—å—é—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.  
**–°–ª–µ–¥—Å—Ç–≤–∏–µ:** –¥–æ—á–µ—Ä–Ω–∏–µ –ø–æ–ª—É—á–∞—Ç `NULL` –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –≤—Ä—É—á–Ω—É—é/–ø–µ—Ä–µ–º–µ—â–µ–Ω—ã.

---


### POST /test_cases ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç-–∫–µ–π—Å–∞

#### –û–ø–∏—Å–∞–Ω–∏–µ

POST /test_cases ‚Äî —Å–æ–∑–¥–∞—ë—Ç TestCase –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏: `steps`, `tags`, `suite_links`.
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç JSON, –≤—ã–∑—ã–≤–∞–µ—Ç `create_test_case_from_payload`, –º–∞–ø–∏—Ç –¥–æ–º–µ–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ HTTP-—Å—Ç–∞—Ç—É—Å—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç.

#### –ü—Ä–∞–≤–∏–ª–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è

##### –¢–µ–≥–∏ (tags):
- –°—Ç—Ä–æ–∫–∞ "smoke" –∏–ª–∏ –æ–±—ä–µ–∫—Ç `{"name": "regression"}` ‚Üí –∏—â–µ–º –ø–æ –∏–º–µ–Ω–∏, –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π —Ç–µ–≥.
- –û–±—ä–µ–∫—Ç `{"id": N}` ‚Üí –µ—Å–ª–∏ —Ç–µ–≥ —Å —Ç–∞–∫–∏–º id –µ—Å—Ç—å ‚Äî –ø—Ä–∏–≤—è–∂–µ–º; –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî —ç–ª–µ–º–µ–Ω—Ç –±—É–¥–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω –∏ –≤ –ª–æ–≥–∞—Ö –ø–æ—è–≤–∏—Ç—Å—è warning. (–¢–µ—Ä–ø–∏–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.)
- Suite links (suite_links):
    - `{"suite_name": "API Suite"}` ‚Üí –∏—â–µ–º –ø–æ –∏–º–µ–Ω–∏, –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî —Å–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π TestSuite.
    - `{"suite_id": N}` ‚Üí –µ—Å–ª–∏ suite —Å —Ç–∞–∫–∏–º id –µ—Å—Ç—å ‚Äî –ø—Ä–∏–≤—è–∂–µ–º; –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî —ç–ª–µ–º–µ–Ω—Ç –±—É–¥–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω –∏ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è warning.

##### –®–∞–≥–∏ (steps):
–ö–∞–∂–¥—ã–π —à–∞–≥ –æ–±—è–∑–∞—Ç–µ–ª—Ç–Ω–æ –∏–º–µ–µ—Ç action (–Ω–µ –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞).
`position` –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω ‚Äî –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ).
–î—É–±–ª–∏–∫–∞—Ç `position` –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ —Ç–µ—Å—Ç-–∫–µ–π—Å–∞ ‚Üí –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (400).

##### –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏–º–µ–Ω–∏:
Constraint –Ω–∞ `name` + `is_deleted`. –ü–æ–ø—ã—Ç–∫–∞ —Å–æ–∑–¥–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç-–∫–µ–π—Å —Å —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∏–º–µ–Ω–µ–º –≤–µ—Ä–Ω—ë—Ç 409 Conflict.

##### –û–∂–∏–¥–∞–µ–º—ã–π JSON-body (–ø—Ä–∏–º–µ—Ä)
```json
{
  "name": "string (required)",
  "preconditions": "string (optional)",
  "description": "string (optional)",
  "expected_result": "string (optional)",
  "steps": [
    {"position": 1, "action": "string (required)", "expected": "string (optional)", "attachments": "string (optional)"},
    {"action": "string"}
  ],
  "tags": [
    "string",          
    {"id": 5},              
    {"name": "regression"}   
  ],
  "suite_links": [
    {"suite_id": 3, "position": 1},             
    {"suite_name": "API Suite", "position": 2}  
  ]
}
```

##### –ü—Ä–∏–º–µ—Ä—ã –æ—Ç–≤–µ—Ç–æ–≤
201 Created ‚Äî —É—Å–ø–µ—Ö

Headers:
```
Location: /test_cases/123
Content-Type: application/json
```


Body:
```json
{
  "id": 123,
  "name": "–°–æ–∑–¥–∞–Ω–Ω—ã–π —á–µ—Ä–µ–∑ curl —Ç–µ—Å—Ç-–∫–µ–π—Å",
  "preconditions": "–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–µ–Ω",
  "description": "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—ã",
  "expected_result": "–ó–∞–ø–∏—Å—å —Å–æ–∑–¥–∞—ë—Ç—Å—è",
  "created_at": "2025-09-10T09:21:56.123456+00:00",
  "updated_at": "2025-09-10T09:21:56.123456+00:00",
  "is_deleted": false,
  "steps": [
    {"id": 1, "position": 1, "action": "–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ª–µ –≤–≤–æ–¥–∞", "expected": "–ü–æ–ª–µ –æ—Ç–∫—Ä—ã–ª–æ—Å—å", "attachments": null},
    {"id": 2, "position": 2, "action": "–í–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å", "expected": "–¢–µ–∫—Å—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω", "attachments": null},
    {"id": 3, "position": 3, "action": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ", "expected": "–ü–æ—è–≤–∏–ª–æ—Å—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ", "attachments": null}
  ],
  "tags": [{"id": 1, "name": "smoke"}, {"id": 2, "name": "regression"}],
  "suites": [{"id": 5, "name": "API Suite", "position": 2}]
}
```

### DELETE /delete_test_run/<int:run_id>

–ú–∞—Ä–∫–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç—Ä–∞–Ω –∫–∞–∫ —É–¥–∞–ª–µ–Ω–Ω—ã–π –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É `run_id`.

#### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- `run_id` (int)  
  –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–æ–≥–æ–Ω–∞ (TestRun), –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ —É–¥–∞–ª–µ–Ω–Ω—ã–π.

#### –û–ø–∏—Å–∞–Ω–∏–µ

–ú–µ—Ç–æ–¥ –ø–æ–ª—É—á–∞–µ—Ç –æ–±—ä–µ–∫—Ç `TestResult` –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ –µ–≥–æ `run_id`. –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–Ω –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª–µ `is_deleted` –Ω–∞ `True`, —á—Ç–æ –ª–æ–≥–∏—á–µ—Å–∫–∏ –ø–æ–º–µ—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–π —Ç–µ—Å—Ç—Ä–∞–Ω –∫–∞–∫ —É–¥–∞–ª–µ–Ω–Ω—ã–π, –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –ï—Å–ª–∏ –æ–±—ä–µ–∫—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `run_id` –Ω–µ –Ω–∞–π–¥–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ.

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ORM (SQLAlchemy), —á—Ç–æ–±—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∫–∞–∫ —Å Python-–æ–±—ä–µ–∫—Ç–∞–º–∏.

#### –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

- **–£—Å–ø–µ—Ö** (200):  
  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ—Ç–≤–µ—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º:  
```json
  {
    "message": "TestRun –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ —É–¥–∞–ª–µ–Ω–Ω—ã–π"
  }
```
- **–û—à–∏–±–∫–∞** (404):  
  –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ—Ç–≤–µ—Ç —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º:
```json
  {
    "message": "TestRun –Ω–µ –Ω–∞–π–¥–µ–Ω"
  }
```






–ü–õ–ê–ù –†–ê–ó–í–ò–¢–ò–Ø –ò –û–¶–ï–ù–ö–ê –ù–ê 09.12.2025

üìä –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ TestOps

üéØ –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
TestOps ‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç:
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç-–∫–µ–π—Å–∞–º–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ, —Ç–µ–≥–∏, —Å—å—é—Ç—ã)
–•—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ (–∑–∞–≥—Ä—É–∑–∫–∞ Allure-results)
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Allure-–æ—Ç—á–µ—Ç–æ–≤
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–∏—è–º–∏ –∫ —Ç–µ—Å—Ç-–∫–µ–π—Å–∞–º
üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç	–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è	–û—Ü–µ–Ω–∫–∞
Backend	Flask 3.1.0	‚úÖ –•–æ—Ä–æ—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è API
ORM	SQLAlchemy + Flask-SQLAlchemy	‚úÖ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Ä–∞–±–æ—Ç–∞ —Å relationships
Database	PostgreSQL 17	‚úÖ –ù–∞–¥–µ–∂–Ω—ã–π –≤—ã–±–æ—Ä
–ú–∏–≥—Ä–∞—Ü–∏–∏	Alembic (Flask-Migrate)	‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
Object Storage	MinIO	‚úÖ S3-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π, self-hosted
Frontend	Jinja2 + Tailwind + Vanilla JS	‚ö†Ô∏è –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å
Logging	structlog	‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JSON
–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è	Docker Compose	‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥


üí™ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã

1. –ü—Ä–æ–¥—É–º–∞–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
–ú–æ–¥–µ–ª–∏ —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ —Å–≤—è–∑—è–º–∏:
models.pyLines 127-159
class TestCase(db.Model):
    __tablename__ = "test_cases"
    # ... steps, tags (M:N), suites (M:N —á–µ—Ä–µ–∑ association object)
    # UniqueConstraint –Ω–∞ (name, is_deleted) ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Å—Ä–µ–¥–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö
Association Object –¥–ª—è TestCaseSuite ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å position
Soft-delete —Å is_deleted/deleted_at
Cascade delete –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

2. –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
–§–∞–π–ª testcase_helpers.py –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–¥—É–º–∞–Ω–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã:
testcase_helpers.pyLines 315-419
def create_test_case_from_payload(payload: Dict[str, Any]) -> models.TestCase:
    """–°–æ–∑–¥–∞—ë—Ç TestCase –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ payload."""
    # ... —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è, –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–≥–æ–≤, —à–∞–≥–æ–≤, suite_links
–î–æ–º–µ–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (ValidationError, NotFoundError, ConflictError)
Cursor-based –ø–∞–≥–∏–Ω–∞—Ü–∏—è
–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç

3. –•–æ—Ä–æ—à–µ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
Structlog —Å JSON-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ request-–∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º:
logger.pyLines 39-46
ef add_request_data(_, __, event_dict: dict) -> dict:
    """–î–æ–±–∞–≤–ª—è–µ—Ç request-–¥–∞–Ω–Ω—ã–µ."""
    if has_request_context():
        event_dict["method"] = request.method
        event_dict["url"] = request.url

4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
README —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ API –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö.


‚ö†Ô∏è –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ / –°—Ç—Ä—É–∫—Ç—É—Ä–∞
–ü—Ä–æ–±–ª–µ–º–∞	–û–ø–∏—Å–∞–Ω–∏–µ
–ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π routes.py	830 —Å—Ç—Ä–æ–∫ ‚Äî —Å–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ª–æ—è —Å–µ—Ä–≤–∏—Å–æ–≤	–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞–∑–º–∞–∑–∞–Ω–∞ –º–µ–∂–¥—É helpers –∏ routes
–ù–µ—Ç dependency injection	–ì–ª–æ–±–∞–ª—å–Ω—ã–µ minio_client, logger

2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
config.pyLines 7-8
    SECRET_KEY = ""  # ‚ö†Ô∏è –ü—É—Å—Ç–æ–π –∫–ª—é—á!
docker-compose.ymlLines 8-9
      - ALLOW_EMPTY_PASSWORD=yes  # ‚ö†Ô∏è –ë–î –±–µ–∑ –ø–∞—Ä–æ–ª—è

3. Frontend
Server-side rendering –±–µ–∑ —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
Vanilla JS –±–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–æ–¥–∏–Ω —Ñ–∞–π–ª 403 —Å—Ç—Ä–æ–∫–∏)
–ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç unit/integration —Ç–µ—Å—Ç—ã (–∫—Ä–∏—Ç–∏—á–Ω–æ!)

5. API
–ù–µ—Ç –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (/api/v1/)
–°–º–µ—à–µ–Ω–∏–µ HTML –∏ JSON –æ—Ç–≤–µ—Ç–æ–≤ –≤ –æ–¥–Ω–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞—Ö
–ù–µ—Ç OpenAPI/Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏


üìà –ö–ª—é—á–µ–≤—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è
üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–≤—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
1. –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
/tests
  /unit
    test_testcase_helpers.py
    test_testrun_helpers.py
  /integration
    test_routes.py
  /e2e
    test_api_flow.py
conftest.py
pytest.ini

2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è SECRET_KEY
–ü–∞—Ä–æ–ª—å –¥–ª—è PostgreSQL
Rate limiting
CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Pydantic/Marshmallow)
üü° –í–∞–∂–Ω—ã–µ (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

3. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ routes –ø–æ –¥–æ–º–µ–Ω–∞–º:
/app
  /api
    /v1
      /testcases
        routes.py
        schemas.py
      /reports
        routes.py
      /attachments
        routes.py
  /services
    testcase_service.py
    report_service.py
  /repositories
    testcase_repository.py

4. API —É–ª—É—á—à–µ–Ω–∏—è
–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ /api/v1/
OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Flask-RESTX –∏–ª–∏ flasgger)
–û—Ç–¥–µ–ª–µ–Ω–∏–µ API –æ—Ç HTML-—Å—Ç—Ä–∞–Ω–∏—Ü

5. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Frontend
–í–∞—Ä–∏–∞–Ω—Ç—ã:
HTMX ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
React/Vue SPA ‚Äî –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π UI
üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

6. DevOps / Observability
Health checks —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π
Prometheus –º–µ—Ç—Ä–∏–∫–∏
Distributed tracing (OpenTelemetry)
CI/CD pipeline (GitHub Actions)

7. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
–§–∏—á–∞	–û–ø–∏—Å–∞–Ω–∏–µ
–®–∞–±–ª–æ–Ω—ã —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤	–°–æ–∑–¥–∞–Ω–∏–µ –∫–µ–π—Å–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–æ–≤
–ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π	Audit log –¥–ª—è —Ç–µ—Å—Ç-–∫–µ–π—Å–æ–≤
–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏	Jira, TestRail, CI/CD webhooks
–≠–∫—Å–ø–æ—Ä—Ç/–ò–º–ø–æ—Ä—Ç	Excel, CSV, XML
–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞	RBAC (—Ä–æ–ª–∏ –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è)
Dashboard	–ú–µ—Ç—Ä–∏–∫–∏, –≥—Ä–∞—Ñ–∏–∫–∏, —Ç—Ä–µ–Ω–¥—ã

üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞
–ö—Ä–∏—Ç–µ—Ä–∏–π	–û—Ü–µ–Ω–∫–∞	–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞	7/10	–•–æ—Ä–æ—à–∏–µ –º–æ–¥–µ–ª–∏, –Ω–æ –º–æ–Ω–æ–ª–∏—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
–ö–æ–¥	8/10	–ß–∏—Å—Ç—ã–π, –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Python
–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å	4/10	–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ	2/10	–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é
DevOps	6/10	Docker –µ—Å—Ç—å, CI/CD –Ω–µ—Ç
UX/Frontend	5/10	–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –ø–æ–¥—Ö–æ–¥
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è	8/10	README —Ö–æ—Ä–æ—à–∏–π
–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: 6/10 ‚Äî –†–∞–±–æ—á–∏–π MVP, —Ç—Ä–µ–±—É—é—â–∏–π —É–ª—É—á—à–µ–Ω–∏–π –¥–ª—è production

üöÄ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞
–§–∞–∑–∞ 1 (1-2 –Ω–µ–¥–µ–ª–∏): –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã (–º–∏–Ω–∏–º—É–º 60% coverage)
‚îú‚îÄ‚îÄ –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI pipeline

–§–∞–∑–∞ 2 (2-4 –Ω–µ–¥–µ–ª–∏): –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
‚îú‚îÄ‚îÄ –†–∞–∑–¥–µ–ª–∏—Ç—å routes.py –Ω–∞ –º–æ–¥—É–ª–∏
‚îú‚îÄ‚îÄ –î–æ–±–∞–≤–∏—Ç—å —Å–ª–æ–π —Å–µ—Ä–≤–∏—Å–æ–≤
‚îî‚îÄ‚îÄ API –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ + OpenAPI

–§–∞–∑–∞ 3 (4-8 –Ω–µ–¥–µ–ª—å): –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ Dashboard —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
‚îú‚îÄ‚îÄ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (audit log)
‚îú‚îÄ‚îÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (webhooks)
‚îî‚îÄ‚îÄ –£–ª—É—á—à–µ–Ω–Ω—ã–π UI (HTMX –∏–ª–∏ SPA)
