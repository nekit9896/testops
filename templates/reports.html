{% extends 'base.html' %}

{% block head %}
    <title>Список отчётов</title>
{% endblock %}

{% block main %}
<main class="flex-1 p-5">
    <h2 class="text-2xl">Доступные отчёты</h2>
    <table class="mt-3 w-full border-collapse">
        <!-- Конфигурация заголовка таблицы -->
        <thead>
            <tr class="border-b">
                <th class="text-left p-2">Id</th>
                <th class="text-left p-2">Название</th>
                <th class="text-left p-2">Время запуска</th>
                <th class="text-left p-2">Время завершения</th>
                <th class="text-left p-2">Окружение</th>
                <th class="text-left p-2">Статус</th>
                <th class="text-left p-2">Действие</th>
            </tr>
        </thead>
        <tbody>
            <!-- Для каждого отчёта из списка создаётся новая строка в таблице -->
            {% for result in results %}
            <tr>
                <td class="p-2">{{ result.id }}</td>
                <td class="p-2">{{ result.run_name }}</td>
                <td class="p-2">{{ result.start_date }}</td>
                <td class="p-2">{{ result.end_date }}</td>
                <td class="p-2">{{ result.stand or '-' }}</td>
                <td class="p-2">{{ result.status }}</td>
                <td class="p-2">
                    <a href="/reports/{{ result.id }}" class="text-blue-500 underline" target="_blank">Открыть</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</main>
{% endblock %}
